{"version":3,"sources":["../src/custom/Queue.js","../src/custom/getMethodKeys.js","../src/main/queue.js","../src/exports/exports.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["function Queue(instance, methods) {\n  function Mirror() {}\n  \n  this.list = [];\n  this.wait = false;\n  this.mirror = new Mirror(),\n  this.instance = instance;\n\n  methods.forEach(function (method) {\n    Mirror.prototype[method] = this.extend(method);\n  });\n}\n\nQueue.prototype.extend = function (method) {\n  var self = this;\n\n  return function () {\n    var a = [];\n    var i = 0;\n    var n = arguments.length;\n\n    for (; i < n; i++) a.push(arguments[i]);\n\n    self._queue_.list.push({\n      method : method,\n      arguments : a\n    });\n\n    self.next();\n\n    return self._queue_.mirror;\n  };\n};\n\nQueue.prototype.next = function () {\n  var result;\n  var a = self._queue_[0];\n\n  function future(self, f) {\n    self._wait_ = true;\n    f(function () {\n      self._wait_ = false;\n      self._queue_.shift();\n      next(self);\n    });\n  }\n\n  // What if the method is 'then' or 'complete' ?\n  if (!self._wait_ && a) {\n\n    result = a.instance[a.method].apply(a.instance, a.arguments);\n\n    if (result && typeof result.then === 'function') {\n      future(self, result.then);\n    } else if (result && typeof result.complete === 'function') {\n      future(self, result.complete);\n    } else {\n      self._queue_.shift();\n\n      next(self);\n    }\n  }\n};\n\nQueue.prototype.wait = function (s) {\n  setTimeout(function () {\n    next(self);\n  }, s);\n};\n","function getMethodKeys(object) {\n  var methods = [];\n\n  if (typeof object === 'undefined') {\n    return false;\n  }\n\n  for (var k in object) {\n    if (typeof object[k] === 'function') {\n      methods.push(k);\n    }\n  }\n\n  return methods;\n}\n","function queue(instance) {\n  var methods = getMethodKeys(instance);\n\n  if (!methods) {\n    throw new Error('Invalid object to queue. Your argument is undefined.');\n  } else if (typeof instance.constructor === 'undefined') {\n    throw new Error('Invalid argument to queue. Your argument does not have a constructor method.');\n  } else if (methods.indexOf('wait') > -1) {\n    throw new Error('Method \\\"wait\\\" is a reserved method name.');\n  }\n\n  return new Queue(instance, methods).mirror;\n}\n","if (typeof module === 'object' && module.exports) {\n  module.exports = queue;\n} else if (window) {\n  window.queue = queue;\n}\n"]}